@using ITBlog.Extension.HelperExtensions
@model List<ITBlog.Business.DTO.ViewDTOs.IndexViewDTOS>

@{
}

@if (Model != null)
{
    <div class="widget clearfix">

        <h4>Son Gönderiler</h4>
        <div class="posts-sm row col-mb-30" id="post-list-sidebar">
            @foreach (var post in Model)
            {
                <div class="entry col-12">
                    <div class="grid-inner row g-0">
                        <div class="col-auto">
                            <div class="entry-image">
                                <a href="/@post.Post.Id"><img src="@post.MainPicture.PictureUrl" style="width:50px;height:50px;" alt="@post.MainPicture.PictureAltName"></a>
                            </div>
                        </div>
                        <div class="col ps-3">
                            <div class="entry-title">
                                @if (post.Post.FirstContent.Length > 20)
                                {
                                    <h4><a href="Post/GetPostById/@post.Post.Id">@post.Post.FirstContent.RemoveHtmlTags().Substring(0,30)...</a></h4>
                                }
                                else{
                                    <h4><a href="Post/GetPostById/@post.Post.Id">@post.Post.FirstContent.RemoveHtmlTags()</a></h4>
                                }
                            </div>
                            <div class="entry-meta">
                                <ul>
                                    @if (post.Post.UpdatedDateTime != null)
                                    {
                                        <li>@post.Post.UpdatedDateTime</li>
                                    }
                                    else
                                    {
                                        <li>@post.Post.CreatedDateTime</li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            }

        </div>

    </div>
}


